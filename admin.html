<!DOCTYPE html>
<html>
<head>
    <title>IP Takip Paneli</title>
    <style>
        body { font-family: Arial; margin: 20px; background: #1a1a2e; color: white; }
        table { width: 100%; border-collapse: collapse; background: #16213e; }
        th, td { padding: 12px; border-bottom: 1px solid #333; }
        th { background: #0f3460; }
        .ip { font-weight: bold; color: #00d4ff; }
    </style>
</head>
<body>
    <h1>ðŸŽ¯ Gelen IP'ler</h1>
    <p id="toplam">YÃ¼kleniyor...</p>
    <button onclick="temizle()" style="background:#ff4757;color:white;border:none;padding:10px;">TÃ¼mÃ¼nÃ¼ Sil</button>
    <table id="tablo">
        <tr><th>IP</th><th>Åžirket</th><th>Åžehir/Ãœlke</th><th>TarayÄ±cÄ±</th><th>Zaman</th></tr>
    </table>
    
    <script>
        function yukle() {
            const loglar = JSON.parse(localStorage.getItem('ipLoglari') || '[]');
            document.getElementById('toplam').innerHTML = 'Toplam: ' + loglar.length + ' kiÅŸi';
            
            const tablo = document.getElementById('tablo');
            tablo.innerHTML = '<tr><th>IP</th><th>Åžirket</th><th>Åžehir/Ãœlke</th><th>TarayÄ±cÄ±</th><th>Zaman</th></tr>';
            
            loglar.slice(-50).forEach(ipBilgi => {
                const satir = tablo.insertRow();
                satir.innerHTML = `
                    <td class="ip">${ipBilgi.ip}</td>
                    <td>${ipBilgi.info?.org || 'Bilinmiyor'}</td>
                    <td>${ipBilgi.info?.city || ''}, ${ipBilgi.info?.country_name || ''}</td>
                    <td>${ipBilgi.userAgent?.slice(0,30)}...</td>
                    <td>${ipBilgi.timestamp}</td>
                `;
            });
        }
        
        function temizle() {
            localStorage.removeItem('ipLoglari');
            yukle();
        }
        
        yukle();
        setInterval(yukle, 3000);  // 3 saniyede bir yenile
    </script>
</body>
</html>
